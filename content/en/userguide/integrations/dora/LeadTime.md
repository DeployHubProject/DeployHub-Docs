---
title: "Lead Time for Changes"
linkTitle: "Lead Time for Changes"
weight: 50
description: >
  Lead time for changes for _Application Version_ per _Environment_
---

The Lead Time for Changes is the amount of time from the developer performing a build of a Git commit which creates a _Component Version_ and when
that _Component Version_ is deployed to an _Environment.  _Component Versions_ as packaged into an _Application Version_.  The _Application Version_ is used in the report since it aggregates all Git commits and deployments up from the _Component Versions_.  So the Lead Time will be
from the most recent Git commit to the most recent deployment to an _Environment_.

## Setup

In order for DeployHub to track the Lead Time you must record when a deployment happens for an _Application Version_ and to
which _Environment_ it happened for.  The DeployHub CLI can be used to record the deployment.  Using the CLI enables the Workflow tool,
Jenkins, GitHub, or GitLab, to tell DeployHub when it performs a deployment.

### Recording a deployment with the DeployHub CLI

See [Installing the CLI](/userguide/installation-and-support/0-commandlineinterface) for CI/CD Setup instructions.  

The CLI accepts a json file that defines the _Application Version_, _Environment_ and deployment return code.  
The _Application Version_ is an existing application version that was created manually or earlier in your pipeline.  
The _Environment_ the environment, Dev, QA or Prod, that the _Application Version_ was deployed to.  The deployment
return code is 0 for successful deployment or 1 for failed deployment.

#### deploy.json File

```json
{
 "application": "GLOBAL.Online Store Company.Hipster Store.Test.Hipster Store;Labor Day Sale;1_2_10_2",
 "environment": "GLOBAL.Online Store Company.Hipster Store.qa3-windows",
 "rc": 0
}
```

#### Running the CLI

The following variables should be set at the beginning of your Pipeline.

| Variable | Value                  | Description                                                                              |
|----------|------------------------|------------------------------------------------------------------------------------------|
| DHURL    | URL to DeployHub Login | The URL used to access DeployHub.                                                        |
| DHUSER   | UserID                 | The ID used to log into DeployHub                                                        |
| DHPASS   | password               | The password used to log into DeployHub. This can encrypted based on the CI/CD solution. |

Example

```bash
export DHURL=https://deployhub.example.com
export DHUSER=Stella99
export DHPASS=password
```

```bash
dh deploy --deploydata deploy.json --logdeployment
```

#### Results

In the DeployHub web UI, navigate to the _Application_ list view.  You will see that the _Application Version_ has been deployed to
_Environment_ with a _Deployment_ number.  The _Deployment_ number is generated by the CLI.  

The Lead Time For Changes report is accessible by selecting an _Application Version_ in the list view, then menu item `Reports -> Lead Time For Changes`.

![Lead Time For Changes](/leadtime.png)

The data is broken out by the number of days it takes for a change to an _Application Version_ to be deployed to an _Environment_.
The graph is interactive, so float-overs and clicking on the labels will highlight and filter the data.
